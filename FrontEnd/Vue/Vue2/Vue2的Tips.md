# Vue2的Tips

## Vue语法

### 事件绑定

#### 指令v-on

Vue使用v-on指令监听DOM事件，开发者可以将事件代码通过v-on指令绑定到DOM节点上。Vue也为v-on提供了一种简写形式@
```
<button v-on:click="console.log('A Vue App')">打印消息</button> 

<button @click="console.log('A Vue App')">打印消息</button> 
```

实际上，写法的不同只是为了避免混肴和冲突，事件绑定的主要作用在于降低学习和开发的成本
- 解决了不同浏览器之间的兼容问题
- 提供了语法糖-事件绑定修饰符

### 常见修饰符

|名称|可用版本|可用事件|说明|
|--|--|--|--|
|.stop|所有|任意|当事件触发时，阻止事件冒泡|
|.prevent|所有|任意|当事件触发时，阻止元素默认行为|
|.capture|所有|任意|当事件触发时，阻止事件捕获|
|.self|所有|任意|限制事件仅作用于节点自身|
|.once|2.1.4以上|任意|事件被触发一次后即解除监听|
|.passive|2.3.0以上|滚动|移动端，限制事件永不调用preventDefault()方法|


```
<form @submit.prevent="handleSubmit">
    <button type="submit">提交</button>
</form>
```
点击提交后，页面没有被重载。

### 按键修饰符

|别名修饰符|键值修饰符|对应按键|
|--|--|--|
|.delete|.8/.46|回格/删除|
|.tab|.9|制表|
|.enter|.13|回车|
|.esc|.27|退出|
|.space|.32|空格|
|.left|.37|左|
|.up|.38|上|
|.right|.39|右|
|.down|.40|下|

```
<input type="text" @keyup.13="console.log($event)">


<input type="text" @keyup.enter="console.log($event)">
```

### 条件渲染

v-show判定为假的元素的display属性被赋值为none，不过仍保留在DOM中，而v-if判定为假的元素则根本没有在DOM中出现。

- v-if会在切换中将组件上的事件监听器和子组件销毁和重建。当组件被销毁时，它将无法被任何方式获取，因为它已不在于DOM中。
- 在创建父组件时，如果子组件的v-if被判定为假，Vue不会对子组件做任何事情，直到第一次判断为真时。这在使用Vue生命周期钩子函数时要尤为注意，如果生命周期已走过组件创建的阶段，却仍无法获取组件对象，想一想，是不是v-if在作怪。
- v-show有更高的初始渲染开销，而v-if有更高的切换开销，这与它们的实现机制有关，在使用时要多加考虑具体的应用场景。

### 数组

Vue会把数组当作被观察者加入响应式系统中，当调用一些方法修改数组时，对应的视图将会同步更新。

|名称|说明|
|--|--|
|push|将一个或多个元素添加至数组末尾，并返回新数组的长度|
|pop|从数组中删除并返回最后一个元素|
|shift|从数组中删除并返回第一个元素|
|unshift|将一个或多个元素添加至数组开头，并返回新数组的长度|
|splice|从数组中删除元素或向数组添加元素|
|sort|对数组元素排序，默认按照Unicode编码排序，返回排序后的数组|
|reverse|将数组中的元素位置颠倒，返回颠倒后的数组|

### 列表渲染中的key

在使用v-for时，最好为每个迭代元素提供一个值不重复的key。

当列表渲染被重新执行（数组内容发生改变）时，如果不使用key，Vue会为数组成员就近复用已存在的DOM节点。

当使用key时，Vue会根据key的变化重新排列节点顺序，并将移除key不存在的节点。


## Vue选项

### 计算属性

计算属性（computed选项）设计的初衷在于减轻模板上的业务负担。

由于计算属性依赖于响应式属性，所以当且仅当响应式属性变化时，计算属性才会被重新计算，而且得到的结果将会缓存，一直到响应式属性再次被修改。相比于使用methods函数求值，这是一种更为高效的机制。





